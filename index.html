const render = (items) => {
  const container = document.getElementById("news-container");
  container.innerHTML = "";

  items.forEach(item => {
    const div = document.createElement("div");
    div.className = "record";

    const title = document.createElement("div");
    title.className = "title";

    if (item.hyperlink) {
      const link = document.createElement("a");
      link.href = item.hyperlink;
      link.textContent = item.title || "(Untitled)";
      link.target = "_blank";
      link.rel = "noopener noreferrer";
      title.appendChild(link);
    } else {
      title.textContent = item.title || "(Untitled)";
    }

    const summary = document.createElement("div");
    summary.className = "summary";
    summary.textContent = item.summary || "(No summary)";

    const meta = document.createElement("div");
    meta.className = "meta";

    const url = item.hyperlink
      ? `<a href="${item.hyperlink}" target="_blank">${new URL(item.hyperlink).hostname}</a>`
      : "No link";

    const dup = typeof item.duplicate_count === "number"
      ? `Duplicate Count: ${item.duplicate_count}`
      : "";

    meta.innerHTML = `${url} &nbsp;|&nbsp; ${dup}`;

    div.appendChild(title);
    div.appendChild(summary);
    div.appendChild(meta);

    container.appendChild(div);
  });
};
